# Команды для LCD 1602 (HD44780)

Команды для управления LCD-дисплеем 1602 (HD44780) делятся на несколько категорий: инициализация, настройка режима работы, управление курсором, очистка дисплея и работа с символами. Каждая команда состоит из 8-битного значения, где определенные биты отвечают за различные функции.

## Основные команды LCD 1602:

### 1. **Function Set (0x38, 0x28)**

Команда для установки режима работы дисплея (разрядность данных, количество строк и размер символов).

- **0x38** — 8-битный режим, 2 строки, 5x8 символов:
  - `0 0 1 DL N F * *`
  - **DL (Data Length)**: 1 — 8-битный режим, 0 — 4-битный.
  - **N (Number of Lines)**: 1 — 2 строки, 0 — 1 строка.
  - **F (Font Size)**: 1 — символы 5x10 точек, 0 — 5x8 точек.
  
  Пример: `0011 1000` → 8-битный режим, 2 строки, 5x8 символов.

- **0x28** — 4-битный режим, 2 строки, 5x8 символов:
  - `0010 1000` → 4-битный режим, 2 строки, 5x8 символов.

### 2. **Display ON/OFF Control (0x0C)**

Управление включением/выключением дисплея, курсора и миганием курсора.

- **0x0C** — Включить дисплей, курсор отключен, мигание отключено:
  - `0 0 0 0 1 D C B`
  - **D (Display)**: 1 — Включить дисплей, 0 — Выключить.
  - **C (Cursor)**: 1 — Включить курсор, 0 — Отключить.
  - **B (Blink)**: 1 — Включить мигание курсора, 0 — Отключить.

  Пример: `0000 1100` → Включить дисплей, отключить курсор и мигание.

### 3. **Clear Display (0x01)**

Очистка дисплея и установка курсора в начальное положение.

- **0x01** — Очистить экран:
  - `0000 0001`

### 4. **Entry Mode Set (0x06)**

Установка режима ввода данных (направление перемещения курсора после ввода символа).

- **0x06** — Автоматический переход курсора вправо, без сдвига экрана:
  - `0 0 0 0 0 1 I/D S`
  - **I/D (Increment/Decrement)**: 1 — перемещение вправо, 0 — влево.
  - **S (Shift)**: 1 — сдвиг экрана, 0 — без сдвига.

  Пример: `0000 0110` → Курсор перемещается вправо, без сдвига экрана.

### 5. **Return Home (0x02)**

Перемещение курсора в начальное положение (адрес 0x00) без очистки дисплея.

- **0x02** — Возврат курсора в начало:
  - `0000 0010`

### 6. **Cursor or Display Shift (0x18, 0x1C)**

Сдвиг курсора или всего экрана влево или вправо.

- **0x18** — Сдвиг дисплея влево:
  - `0 0 0 1 S/C R/L * *`
  - **S/C (Shift/Cursor)**: 1 — сдвиг дисплея, 0 — сдвиг курсора.
  - **R/L (Right/Left)**: 1 — сдвиг вправо, 0 — влево.

  Пример: `0001 1000` → Сдвиг дисплея влево.

- **0x1C** — Сдвиг дисплея вправо:
  - `0001 1100` → Сдвиг дисплея вправо.

### 7. **Set DDRAM Address (0x80 + адрес)**

Установка адреса в памяти для размещения символов (DDRAM).

- **0x80 + адрес** — Установить адрес памяти:
  - `1 адрес`
  
  Пример: `1000 0000` → Установить адрес курсора на первую строку, позиция 0.

### 8. **Set CGRAM Address (0x40 + адрес)**

Установка адреса в памяти для создания пользовательских символов (CGRAM).

- **0x40 + адрес** — Установить адрес памяти CGRAM:
  - `01 адрес`

  Пример: `0100 0000` → Установить адрес для записи в CGRAM.

## Пример последовательности инициализации в 8-битном режиме:

1. **0x38** — Установить 8-битный режим, 2 строки, 5x8 точек.
2. **0x0C** — Включить дисплей, курсор и мигание отключены.
3. **0x01** — Очистить дисплей.
4. **0x06** — Установить режим ввода: курсор перемещается вправо, экран не сдвигается.

## Таблица команд с их побитовой структурой:

| Команда                    | Битовая структура         | Описание                                                |
|----------------------------|---------------------------|---------------------------------------------------------|
| **0x38** (Function Set)     | `0011 1000`               | 8-битный режим, 2 строки, символы 5x8                    |
| **0x28** (Function Set)     | `0010 1000`               | 4-битный режим, 2 строки, символы 5x8                    |
| **0x0C** (Display ON/OFF)   | `0000 1100`               | Включить дисплей, курсор и мигание отключены             |
| **0x01** (Clear Display)    | `0000 0001`               | Очистить дисплей                                         |
| **0x06** (Entry Mode Set)   | `0000 0110`               | Ввод с курсором вправо, без сдвига экрана                |
| **0x02** (Return Home)      | `0000 0010`               | Вернуться в начало (адрес 0x00)                          |
| **0x18** (Shift Display)    | `0001 1000`               | Сдвиг дисплея влево                                      |
| **0x1C** (Shift Display)    | `0001 1100`               | Сдвиг дисплея вправо                                     |
| **0x80** (Set DDRAM Addr)   | `1000 0000` + адрес       | Установить адрес памяти DDRAM                            |
| **0x40** (Set CGRAM Addr)   | `0100 0000` + адрес       | Установить адрес памяти CGRAM для пользовательских символов |

## Стробирование данных

После каждой команды обычно требуется стробировать (отправлять) сигнал для записи в дисплей, что подтверждает передачу данных в LCD.
